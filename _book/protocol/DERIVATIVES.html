
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Derivatives Â· TradeLayer Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Patrick Dugan">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tabs/bootstrap.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/custom.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="INSURANCE.html" />
    
    
    <link rel="prev" href="LAYER_2.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction/OVERVIEW.html">
            
                <a href="../introduction/OVERVIEW.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../introduction/VISION.html">
            
                <a href="../introduction/VISION.html">
            
                    
                    Vision
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../introduction/CROSSCHAIN.html">
            
                <a href="../introduction/CROSSCHAIN.html">
            
                    
                    Cross-Chain
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Protocol</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="OP_RETURN_LAYER.html">
            
                <a href="OP_RETURN_LAYER.html">
            
                    
                    OP_Return Layer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="TRADE_TYPES.html">
            
                <a href="TRADE_TYPES.html">
            
                    
                    Trade Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="LAYER_2.html">
            
                <a href="LAYER_2.html">
            
                    
                    Layer 2
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.4" data-path="DERIVATIVES.html">
            
                <a href="DERIVATIVES.html">
            
                    
                    Derivatives
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="INSURANCE.html">
            
                <a href="INSURANCE.html">
            
                    
                    Insurance and Liquidation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="FEE.html">
            
                <a href="FEE.html">
            
                    
                    Fees
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="TOKENOMICS.html">
            
                <a href="TOKENOMICS.html">
            
                    
                    Vesting and Tokenomics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="MACRO.html">
            
                <a href="MACRO.html">
            
                    
                    Macro-economics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="COMPLIANCE.html">
            
                <a href="COMPLIANCE.html">
            
                    
                    Compliance
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API Reference</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../api_reference/TRANSACTIONS.html">
            
                <a href="../api_reference/TRANSACTIONS.html">
            
                    
                    TradeLayer Transactions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../api_reference/API.html">
            
                <a href="../api_reference/API.html">
            
                    
                    Orderbook Service API Package
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../api_reference/WALLET.html">
            
                <a href="../api_reference/WALLET.html">
            
                    
                    Wallet Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../api_reference/ENDPOINTS.html">
            
                <a href="../api_reference/ENDPOINTS.html">
            
                    
                    TradeLayer Endpoints
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Derivatives</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="derivatives">Derivatives</h1>
<p>The default derivative is a perpetual swap, which is the base of what the protocol calls a <em>Contract Series</em>, each new contract series gets a contractId which corresponds to the perpetual.</p>
<h2 id="futures">Futures</h2>
<p>Based on the parameters of the series, there is a block interval N where a number of futures contracts Y will be settling, the bigger Y is the more N*Y intervals in the future there exist live futures contracts.A reasonable value for N is the number of Litecoin blocks in a week (4032) or month (17280), but since a month is uneven (leaving 5 days off the year and thus slipping over the years) it&#x2019;s also recommendable to choose 52560 for a quarterly futures contract.Once a futures contract expires a new futures contract is generated.The contractId for futures starts with the Id of the parent perpetual swap, followed by a hyphen, followed by the blockheight of its expiry.</p>
<h2 id="perpetual-funding">Perpetual Funding</h2>
<p>There is no built-in interest rate in the funding formula for futures, there is a clamp where +/- 5 bps is ignored and given a 0 funding rate.Any average contract VWAP above the average oracle value or underlying token index will produce a funding rate of that difference minus the 5 bps clamp, and likewise an average VWAP that is discounted more than 5 bps will produce negative funding equal to the discount plus 5 bps.Funding settles hourly, which creates lots of arbitrage opportunities against other contracts.Additionally, the clamp makes it easier for the contract to swing in the 10bps range around the index and TradeLayer&#x2019;s low fee makes basis trading effective in that range.</p>
<h2 id="options">Options</h2>
<p>Later, options will be activated and are based on the contract series numbering:</p>
<p><strong>Info:</strong> n-expiry-P-strike</p>
<p>With N as the underlying contractId of the original perp swap, the expiry block like with futures (it can be a block height other than futures) the Call or Put code C or P added after a hyphen, then the strike price.The protocol rounds strikes to the latest round number based on a 1% increment or a 2.5% increment for expirations &gt;1 month.Trades are all based on channel execution and assumed to be bilateral, thus the payloads can be customized even though the rounding rules standardize strikes to some extent. </p>
<p>An option series can be European or American style, American delivers into the nearest-expiry future that is existent in the original contract series (expirations can be different) and that is closer to or equal to the expiration of the American style option. American options tend to be more expensive to price in the time value of money from possibly taking delivery and liquidating/reinvesting/cash-carry-hedging the underlying. If there are no futures with expiry block &lt;= the expory of the option, the option exercises into perp positions.</p>
<h2 id="cross-margin">Cross-margin</h2>
<p>TradeLayer does not support universal portfolio margin across multiple forms of collateral as this creates complex systemic risks based on correlation between collateral assets and covariance in different mis-matched collaterals and contract denominations.It does support automatic cross-margin within single collateral properties, thus perps, futures and options can all offset each other based on block-by-block settlement automatically.Even if contracts are illiquid in terms of trading volume each block they are marked to model based on time to expiry, recent premium and the mark price of the perp, which is the TWAP of the last few oracle publications or the VWAP of the underlying token index for native contracts.</p>
<h2 id="expiration">Expiration</h2>
<p>Futures expire into Perps if native or cash-settle if oracle based.Options are European style and likewise settle into Perps if native or cash if oracle.</p>
<p><em>Last updated: [10<em>7</em>2024]</em></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="LAYER_2.html" class="navigation navigation-prev " aria-label="Previous page: Layer 2">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="INSURANCE.html" class="navigation navigation-next " aria-label="Next page: Insurance and Liquidation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Derivatives","level":"2.4","depth":1,"next":{"title":"Insurance and Liquidation","level":"2.5","depth":1,"path":"protocol/INSURANCE.md","ref":"protocol/INSURANCE.md","articles":[]},"previous":{"title":"Layer 2","level":"2.3","depth":1,"path":"protocol/LAYER_2.md","ref":"protocol/LAYER_2.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","tabs","highlight","sharing","fontsettings","theme-default"],"styles":{"website":"styles/custom.css"},"pluginsConfig":{"search-pro":{"cutWordLib":"nodejieba","defineWord":[]},"tabs":{},"highlight":{},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","author":"Patrick Dugan","engines":{"gitbook":"3.2.3"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"TradeLayer Documentation","gitbook":"*","description":"Comprehensive guide to TradeLayer Protocol."},"file":{"path":"protocol/DERIVATIVES.md","mtime":"2024-10-10T14:44:24.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-10-10T17:52:59.987Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-tabs/bootstrap.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

